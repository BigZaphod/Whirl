<html>
<head>
<title>Whirl - Dizzy Programming</title>
</head>
<body bgcolor="white" alink="red" vlink="blue" link="blue">
<small><font face="Arial"><b>Other Languages:</b>
<a href="/cow/">COW</a> | <b>Whirl</b> | <a href="/3code/">3code</a> | <a href="/taxi/">Taxi</a></font></small>

<div style="font-size:63px; font-weight:bold; font-family:sans-serif">
Whirl
<img src="maple.seed.jpg" valign="middle" alt="round and round and round..." />
</div>

<div style="border: 1px solid green; padding: 5px;">
<b>Important news!</b><div style="margin: 0px; padding: 6px;">
<br><small>[06/22/05]</small> Kang Seonghoon sent in his <b>shocking</b> 15,556 instruction "99 Bottles of Beer" implementation!
<br><small>[07/04/05]</small> Victor sent in <b>updated versions</b> of the flash virtual machine and Java version of the interpreter!
<br><small>[07/06/05]</small> Victor Ortiz submitted a nice <b>whirl documentation tool</b> written in Java!
<br><small>[09/22/05]</small> Kang Seonghoon wrote a version of the interpreter in <b>Ruby</b>!
<br><small>[11/04/05]</small> Jakob Westhoff mailed a very nice looking <b>PHP5</b> version of Whirl!
<br><small>[11/16/05]</small> Douglas Michael Auclair contributed an implementation of Whirl in <b>Prolog</b>!
<br><small>[11/28/05]</small> Douglas Michael Auclair updated his Prolog Whirl implementation<!-- and wrote up some <b>wonderful</b> specs-->!
<br><small>[12/15/05]</small> Douglas Michael Auclair dropped off a link to an <b>AOP in Prolog</b> article using Whirl as an example!
<br><small>[03/03/06]</small> Aviad Ben Dov sent a short version of Hello, World as well as a Java-based <b>code generator</b>!
<br><small>[05/26/07]</small> Thanks to Temas for the <a href="http://en.wikipedia.org/wiki/Samara_%28fruit%29">maple seed</a> logo suggestion!
<br><small>[09/20/08]</small> Keymaker built a <b>114,030 instruction quine</b>!
<br><small>[09/30/08]</small> BeeTwitLimited announces a <b>Brainfuck to Whirl translator</b>! (<a href="thern/announcement.html">announcement</a>)
<br><small>[05/12/09]</small> I wrote an <b>LLVM-based Whirl compiler</b>!
<br><small>[04/02/10]</small> Cameron Behar sent a short Hello World weighing in at only <b>858 instructions</b>!
<br><br>Check this stuff out in the <a href="#downloads">Downloads &amp; Links</a> section below.
</div>
</div>

<p>
Whirl was designed with the following state-of-the-art features in mind:
<ul>
<li>Inheritence</li>
<li>Simplicity</li>
<li>Ease of use</li>
<li>XML</li>
<li>Maintainability</li>
<li>Polymorphism</li>
<li>Flexibility</li>
<li>Power</li>
<li>Subtraction</li>
<li>Grilled Chicken</li>
</ul>

Unfortunately, none of those things made it into the final product.
<br><br>
The Whirl programming language has only two instructions: 0 and 1.  While the Whirl Team was tempted to build a compiler that converted text source files of 0s and 1s into very small binary files with a sequence of 0/1 bits, the idea was thwarted at the last minute by a sudden attack of laziness.  Maybe it'll happen later on when Whirl becomes adopted by the enterprise market to replace the aging Java platform.
<br><br>
In the world of Whirl, there are two instructions and two rings of 12 things to do on each.  The instructions manipulate the rings and activate commands on the rings.  The rings can also store 
some data within them.  The rings always maintain their position and state, so nothing really resets the rings back to their default position.  A Whirl programmer must always keep track of 
where the rings are positioned so as to not get a headache.  Unfortunately, trying to track the rings' position after about 10 instructions often results in a sudden stoppage of programming 
due to the programmer's brain getting so dizzy it forgets how to breathe.  <b>WARNING: Programming Whirl may be hazardous to your sanity!</b>
<br><br>
The Whirl environment generously gives the programmer the following tools:
<ul>
<li>An "infinite" supply of data memory</li>
<li>An ability to change the program's instruction position</li>
<li>One ring of 12 Control/Logic/IO operations</li>
<li>One data storage slot for the operations ring</li>
<li>One ring of 12 Math functions</li>
<li>One data storage slot for the math ring</li>
<li>Two easy-to-remember instructions</li>
</ul>

When a Whirl program begins, the operations ring is set as active and it is in the Noop position.  The memory is initialized to 0.  The operations ring's data storage slot is set to 0.  The math ring is at the Noop position.  The math ring's data storage slot is set to 0.  The direction setting of both the operations ring and the math ring are set to clockwise.
</p>
<br>

<table border="0" width="550" cellpadding="0" cellspacing="1">
<tr><td bgcolor="#dadada">
  <table border="0" width="100%" cellpadding="3" cellspacing="1">
  <tr valign="center">
    <td colspan="2" bgcolor="black"><font color="white">Whirl Instructions</font></td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" width="55" align="center" nowrap><b>1</b></td>
    <td bgcolor="white">Rotate the current ring in the current direction.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>0</b></td>
    <td bgcolor="white">Reverse the direction of rotation of the active ring.  If previous instruction was a 0 <i>and it did not trigger an execution</i>, then the currently selected command on the currently active ring is executed and the active ring is switched to the other ring.  To get two executions in a row (one on the current command of each ring) requires 0000 and not 000.<br><small>(Thanks <a href="http://www.coljac.net/">coljac</a> for pointing out a need for clarification here!)</small></td>
  </tr>
  </table>
</td></tr>
</table>

<br>
Note... In the following documentation, <b>value</b> refers to the ring's data value and <b>memval</b> refers to the value of the currently selected block of memory.
<br>
All commands are listed in clockwise order starting with the default command (the command the ring is set to when a program begins).
<br><br>

<table border="0" width="550" cellpadding="0" cellspacing="1">
<tr><td bgcolor="#dadada">
  <table border="0" width="100%" cellpadding="3" cellspacing="1">
  <tr valign="center">
    <td colspan="2" bgcolor="black"><font color="white">Operations Ring Commands</font></td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" width="55" align="center" nowrap><b>Noop</b></td>
    <td bgcolor="white">Has no effect.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Exit</b></td>
    <td bgcolor="white">Terminates the program.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>One</b></td>
    <td bgcolor="white">Sets <b>value</b> to 1.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Zero</b></td>
    <td bgcolor="white">Sets <b>value</b> to 0.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Load</b></td>
    <td bgcolor="white">Sets <b>value</b> to <b>memval</b>.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Store</b></td>
    <td bgcolor="white">Sets <b>memval</b> to <b>value</b>.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>PAdd</b></td>
    <td bgcolor="white">Adds <b>value</b> to the current program position pointer (a jump).</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>DAdd</b></td>
    <td bgcolor="white">Adds <b>value</b> to the current memory position pointer (change memory location).</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Logic</b></td>
    <td bgcolor="white">If <b>memval</b> is 0, then <b>value</b> is set to 0.  Otherwise, <b>value</b> is set to <b>value</b> AND 1.  This is a logical AND.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>If</b></td>
    <td bgcolor="white">If <b>memval</b> is not 0, then add <b>value</b> to program position pointer (see PAdd).</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>IntIO</b></td>
    <td bgcolor="white">If <b>value</b> is 0, set <b>memval</b> to integer number read from stdin.  Otherwise print <b>memval</b> to stdout as an integer.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>AscIO</b></td>
    <td bgcolor="white">If <b>value</b> is 0, set <b>memval</b> to ASCII character read from stdin.  Otherwise print <b>memval</b> to stdout as an ASCII character.</td>
  </tr>
  </table>
</td></tr>
</table>

<br>

<table border="0" width="550" cellpadding="0" cellspacing="1">
<tr><td bgcolor="#dadada">
  <table border="0" width="100%" cellpadding="3" cellspacing="1">
  <tr valign="center">
    <td colspan="2" bgcolor="black"><font color="white">Math Ring Commands</font></td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" width="55" align="center" nowrap><b>Noop</b></td>
    <td bgcolor="white">Has no effect.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Load</b></td>
    <td bgcolor="white">Sets <b>value</b> to <b>memval</b>.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Store</b></td>
    <td bgcolor="white">Sets <b>memval</b> to <b>value</b>.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Add</b></td>
    <td bgcolor="white">Sets <b>value</b> to <b>value</b> plus <b>memval</b>.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Mult</b></td>
    <td bgcolor="white">Sets <b>value</b> to <b>value</b> multiplied by <b>memval</b>.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Div</b></td>
    <td bgcolor="white">Sets <b>value</b> to <b>value</b> divided by <b>memval</b>.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Zero</b></td>
    <td bgcolor="white">Sets <b>value</b> to 0</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>&lt;</b></td>
    <td bgcolor="white">If <b>value</b> is less than <b>memval</b>, then sets <b>value</b> to 1.  Otherwise sets <b>value</b> to 0.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>&gt;</b></td>
    <td bgcolor="white">If <b>value</b> is greater than <b>memval</b>, then sets <b>value</b> to 1.  Otherwise sets <b>value</b> to 0.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>=</b></td>
    <td bgcolor="white">If <b>value</b> is equal to <b>memval</b>, then sets <b>value</b> to 1.  Otherwise sets <b>value</b> to 0.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Not</b></td>
    <td bgcolor="white">If <b>value</b> is not 0, then sets <b>value</b> to 0.  Otherwise sets <b>value</b> to 1.</td>
  </tr>
  <tr valign="top">
    <td bgcolor="white" align="center"><b>Neg</b></td>
    <td bgcolor="white">Sets <b>value</b> to <b>value</b> multiplied by -1 (inverse).</td>
  </tr>
  </table>
</td></tr>
</table>

<br>

A Whirl program file consists of a series of 0 and 1s.  Anything that isn't a 0 or a 1 is ignored.  So commenting is pretty easy -- just beware of numbers that might have a 1 or 0 in them!

<br>

<h3>Examples</h3>

Do 1+1 and print the results:<br>
<code><blockquote>
00 - run ops.noop, switch to math ring<br>
0 - math::ccw<br>
11 - rotate to math.not<br>
00 - run math.not, switch to ops ring<br>
00 - run ops.noop, switch to math ring<br>
0 - math::cw<br>
1111 - rotate to math.store<br>
00 - run math.store, switch to ops ring<br>
00 - run ops.noop, switch to math ring<br>
1 - rotate to math.add<br>
00 - run math.add, switch to ops ring<br>
00 - run ops.noop, switch to math ring<br>
0 - math::ccw<br>
1 - rotate to math.store<br>
00 - run math.store, switch to ops ring<br>
11 - rotate to ops.one<br>
00 - run ops.one, switch to math ring<br>
00 - run math.store, switch to ops ring<br>
0 - ops::ccw<br>
1111 - rotate to ops.IntIO<br>
00 - run ops.IntIO, switch to math ring
</blockquote></code>
<br>
This sample reads two numbers from stdin, adds them together, and prints the result.  There is also a <a href="add2.txt">commented version</a>.  <i>Thanks coljac!</i>
<br>
<code><blockquote>
011000001111000011111000001111000011111000001111000<br>
011111000001100100000110011111000111000111100011001<br>
11000000000111110001000111110011001111100010001100
</blockquote></code>


<h3>Meta</h3>
Whirl has been termed a "<b>Turning Tarpit</b>" language which means: A highly minimalist despotic language in which the only way to 
select an operation is by moving along a list of stateful encodings. This was coined as the result of a Freudian slip of the term
<a href="http://esoteric.voxelperfect.net/wiki/Turing_tarpit">Turing tarpit</a> during a discussion about Whirl on the 
<a href="http://esoteric.voxelperfect.net/wiki/Esolang:Community_Portal#IRC">#esoteric</a> IRC channel.
<br><small>(I found this out by accident thanks to Google.  Way cool!)</small>


<a name="downloads">
<h3>Downloads &amp; Links</h3>
The <a href="whirl.cpp">C++ source of the interpreter</a> is available.  Feel free to play with it.  Thanks to The Slarty, it has been reasonably well-tested and a few fixes have been made.
<br><br>
<a href="http://coljac.net/">Coljac</a> has graciously provided the world with a <a href="Whirl.java">Java version of Whirl</a>! Victor Ortiz has provided an <a href="Whirl-2.java">updated Java version</a> as well.
<br><br>
<a href="http://www.slarty.org">The Slarty</a> has done one heck of an amazing job generating a <a href="slarty-hello_world.txt">Hello, World program for Whirl</a> using an intermediate language of his own design!  This sucker weighs in at about 28k.  I wasn't sure it could be done...  and yet...
<br><br>
<a href="http://dev.tokigun.net/esolang/index_en.php">Kang Seonghoon</a> has contributed a <a href="kang-whirl.c">slightly obfuscated C version of Whirl</a> (updated to version 3).  You can also download it from <a href="http://page.tokigun.net/obfuscation/file/whirl.c">here</a>.
<br><br>
Here's a much shorter version of <a href="kang-hello_world.txt">Hello, World</a> written by Kang Seonghoon.  It can also be found <a href="http://page.tokigun.net/obfuscation/file/helloworld.wr">here</a>.  Wow!
<p style="border: 2px solid green; padding: 2px">
Writing Whirl is fun, but watching it is even better!  Check out this <a href="Whirl-1.01.swf"><b>flash-based virtual Whirl machine</b></a>
  (updated to version 1.01) sent in by <a href="mailto:victormanuelortiz@gmail.com">Victor Ortiz</a>.
  He also sent in some code for computing the <a href="victor-fib.txt">Fibonacci sequence</a>.  Excellent stuff!
</p>
The Hello, World by Kang Seonghoon (above) was impressive for its compactness and now <a href="mailto:pug@lava.net">Brennan Schweitzer</a> has reverse engineered it and provided
a <a href="schweitzer-kang_hello_commented.txt"> detailed walk-through</a> of the code.  Great work!
<br><br>
<a href="http://dev.tokigun.net/esolang/index_en.php">Kang Seonghoon</a> strikes again, this time with the classic "<a href="kang-99.html">99 Bottles of Beer</a>" implemented in a shocking 15,556 instructions!  <b>Beyond cool!</b>
The code is also available <a href="http://page.tokigun.net/obfuscation/file/99bottle.wr">here</a>.
<br><br>
Need help debugging your Whirl program?  You could try out the <a href="WhirlDoc.java">Whirl documentation generation tool</a> written in Java by Victor Ortiz.
<br><br>
Kang Seonghoon wrote a <a href="kang-whirl.rb">Whirl interepreter in Ruby</a> (also <a href="http://dev.tokigun.net/esolang/whirl/whirl.rb">here</a>) for the universe to enjoy.
There can never be too many Whirl interpreters!
<br><br>
I woke up one morning to a gift in my inbox: a wonderful OO implementation of <a href="phpwhirl-1.0.tar.gz">Whirl written in PHP5</a> by <a 
href="http://www.westhoffswelt.de">Jakob Westhoff</a>! The more the merrier! Thanks Jakob!
<br><br>
<a href="mailto:dauclair@hotmail.com">Douglas Michael Auclair</a> sent me his (updated to <b>0.08</b>) <a href="dma/docs/aspects/whirl_interpreter_v0.08.pl">Prolog version of Whirl</a>.  
<!--
He has also published two <b>very interesting documents</b>: <a href="http://www.cotilliongroup.com/code/whirl/whirl-interpreter.html">A Whirl Interpreter In Prolog</a>
as well as <a href="http://www.cotilliongroup.com/code/whirl/whirl-spec.html">Formal Whirl Program Definition</a>. This project represents 
a great deal of work on Douglas' part and is very much appreciated! Be sure to check out
<a href="http://www.cotilliongroup.com/code/research.htm">this page</a> of other research and links Douglas has compiled.
-->
<br><br>
The prolific <a href="mailto:dauclair@hotmail.com">Douglas Michael Auclair</a> wrote to point to the way to his latest work which discusses
<a href="dma/docs/aspects/aspects-man.html">Aspect Oriented Programming (AOP) in Prolog</a> which uses his Prolog Whirl
interpreter as an example application with a resulting performance improvement of nearly 150 times!
<br><br>
<a href="http://chaoticjava.com/">Aviad Ben Dov</a> mailed a short version of <a href="aviad/hello_world.txt">Hello, World</a> which he created with his
Java <a href="aviad/whirlGenerator.jar">Whirl Code Generator</a> which has support for strings and basic math (add,sub,mul,div).
The <a href="aviad/whirlGenerator-source.tar.gz">source code</a> is also available. Awesome stuff, Aviad!
<br><br>
<a href="http://yiap.nfshost.com/">Keymaker</a> sent me a stunning <a href="keymaker/quine.txt">114,030 instruction</a> quine! (A quine is a program that, when run, prints it's own source code!) Pretty incredible!
<br><br>
<a href="mailto:nthern@gmail.com">Nate Thern</a> (aka BeeTwitLimited) sent a <a href="thern/bf2whirl.pl.txt">Brainfuck to Whirl translator written in Perl</a>. Be sure to read his awesome <a href="thern/announcement.html">announcement</a>, too! Thanks Nate!
<p style="border: 2px solid green; padding: 2px">
Check out my <a href="http://llvm.org">LLVM</a>-based Whirl compiler here: <a href="llvm/whirl-llvm.cpp">whirl-llvm.cpp</a> and <a href="llvm/whirl-runtime.c">whirl-runtime.c</a> (<a href="http://blog.bigzaphod.org/2009/05/12/whirl-and-llvm/">See blog for some extra notes.</a>)
</p>
<a href="mailto:0x24a537r9@gmail.com">Cameron Behar</a> sent a <a href="behar-hello_world.txt">858 instruction hello world</a> - the smallest to date!

<h3>Hardware</h3>
<img src="whirl-o-matic.jpg" border="0" alt="Whirl-O-Matic">
<br>
<small>Coljac sent in this image of a prototype for a physical Whirl machine!</small>


<h3>History</h3>
Whirl was first published on July 9, 2004.  It was based on an idea I had spinning around in my head since September 9, 2003 (or so the timestamp on the file tells me).

<br><br><br>
<div align="center">
<table border="1" cellpadding="4" cellspacing="0" width="255" align="center"><tr><td style="background:#fed;color:#000;font-family:Tahoma,Helvetica,Arial, sans-serif;text-align:center;font-size:11px"><strong><a style="color:#420;text-decoration:none" href="http://B.webring.com/wrman?ring=esolang&amp;addsite" target="_top">The Esoteric Programming Languages Ring</a></strong><br /><a style="color:#840" href="http://B.webring.com/go?ring=esolang&amp;id=30&amp;prev" target="_top">&lt;&lt; Prev</a>&nbsp;<a style="color:#840" href="http://B.webring.com/hub?ring=esolang&amp;id=30&amp;hub" target="_top">Ring Hub</a>&nbsp;<a style="color:#840" href="http://B.webring.com/go?ring=esolang&amp;id=30&amp;next" target="_top">Next &gt;&gt;</a></td></tr></table>
</div>


<br>
<small><a href="http://www.bigzaphod.org">check out my other stuff</a></small>

</body>
</html>

